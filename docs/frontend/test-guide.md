# 前端手动测试指南

## 网址

- 客户端：[http://ac-client.niamori.moe](https://ac-client.niamori.moe)
- 管理端：[http://ac-admin.niamori.moe](https://ac-admin.niamori.moe)

## 手动测试步骤

- 启动浏览器（请使用现代浏览器 chrome/edge），调出开发者工具（F12 或 Ctrl+Shift+I）

- 输入上述网址打开应用

- 点击右上角设置按钮（小齿轮，两个网站都是），设置一些参数
  - 是否启用 api mock：在启用的情况下，网站使用模拟 api ，不会向真实 api 建立连接收发消息，可以用于探索网站表现
  - 设置 api 地址（即 websocket 的连接地址）
    - 注意，websocket 协议类型要与 http 协议相匹配，如果使用 https 打开网站，连接协议必须是安全协议 wss，否则是 ws 即可
  - 对于客户端，还可以设置房间号
  - 对于管理端，还可以设置有哪些房间

- 使用过程中注意观察开发者工具中的 console（控制台）输出，看有无错误发生

- 选择开发者工具中的 network（网络）页，找到 websocket 连接，然后选择右侧的 messages（消息）标签，可以监控所有通过 websocket 的消息，包括上行与下行

## 客户端使用说明

- 左上角标签显示房间号
- 右上角设置按钮用于调节开发设置
- 在空调上，显示温控模式（制冷/制热）和目标温度
- 空调下方，显示风速，可以点击对应的按钮调节
- 有风供应时，空调和背景会发生变化，由此显示送风状态
- 下方控制面板
  - 中间按钮控制电源
    - 蓝色代表目前是关机状态，点击开机
    - 红色代表目前是开机状态，点击关机
  - 两侧加/减按钮用于调节目标温度
- 最下方状态面板，显示房间温度、服务时长和消费金额
- 当送风状态变化、出现错误等时候，会弹出消息条提示

操作上，按照直觉去使用即可，注意：

- 开机不一定有风（因为可能温度已达到，或者中央空调调度后决定暂不送风）
- 关机一定无风
- 目标温度有范围，如果点击没反应可能是达到上下界了
- 室温总会自动变化，有风状态下趋向于目标温度，无风状态下趋向于默认温度

## 管理端使用说明

- 右上角设置按钮用于调节开发设置
- 左侧侧边栏可以选择相应的功能
- 对一些重要信息，右下角会有弹窗提示

### 系统管理

用于开关系统、调整设置，主要由管理员使用

> 但是还没写 www

### 订单管理

整合了订单创建、查询、结束、支付、账单/详单查询等功能，主要由酒店前台使用

- 在上方可以输入用户、房间、订单状态等过滤条件（如果留空，则代表无此条件限制）
- 点击「查询」后，下方以表格形式列出订单信息
- 根据订单状态不同，表格最后一列给出可用的操作（包括结束、查询账单/详单、支付），点击使用即可
- 如要新建订单，点击右侧「新建」，输入用户名和房间号，点击确定即可

### 统计数据

导出统计报表，主要由酒店经理使用

选择起止时间，点击「查询」即可

### 房间状态

用于监控房间状态，主要由管理员使用

- 在左侧选择楼号和楼层号，右侧即会展示该层所有房间的信息

> 这个界面还没做完，目前姑且先把房间信息以 json 的形式贴出来了
